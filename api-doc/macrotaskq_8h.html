<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MADNESS: macrotaskq.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MADNESS
   &#160;<span id="projectnumber">0.10.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6b18f4c94988b4c3175a7db89843d784.html">madness</a></li><li class="navelem"><a class="el" href="dir_57953ffc297296ee8cc53983d0978021.html">mra</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<div class="title">macrotaskq.h File Reference<div class="ingroups"><a class="el" href="group__mra.html">Mra</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Declares the <code>macrotaskq</code> and MacroTaskBase classes.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="cloud_8h_source.html">madness/world/cloud.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="world_8h_source.html">madness/world/world.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="macrotaskpartitioner_8h_source.html">madness/mra/macrotaskpartitioner.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for macrotaskq.h:</div>
<div class="dyncontent">
<div class="center"><img src="macrotaskq_8h__incl.png" border="0" usemap="#amacrotaskq_8h" alt=""/></div>
<map name="amacrotaskq_8h" id="amacrotaskq_8h">
<area shape="rect" title="Declares the macrotaskq and MacroTaskBase classes." alt="" coords="1383,5,1494,32"/>
<area shape="rect" href="cloud_8h.html" title="Declares the Cloud class for storing data and transfering them between worlds." alt="" coords="1485,80,1657,107"/>
<area shape="rect" href="world_8h.html" title="Declares the World class for the parallel runtime environment." alt="" coords="1352,319,1525,345"/>
<area shape="rect" href="macrotaskpartitioner_8h.html" title=" " alt="" coords="145,468,407,495"/>
<area shape="rect" href="parallel__dc__archive_8h.html" title=" " alt="" coords="1533,155,1707,196"/>
<area shape="rect" title=" " alt="" coords="1731,162,1778,189"/>
<area shape="rect" title=" " alt="" coords="53,550,128,577"/>
<area shape="rect" href="MADworld_8h.html" title="This header should include pretty much everything needed for the parallel runtime." alt="" coords="1518,244,1722,271"/>
<area shape="rect" href="worlddc_8h.html" title="Implements WorldContainer." alt="" coords="1809,319,1997,345"/>
<area shape="rect" href="vector__archive_8h.html" title="Implements an archive wrapping an STL vector." alt="" coords="1310,543,1477,584"/>
<area shape="rect" href="madness__config_8h.html" title="Macros and tools pertaining to the configuration of MADNESS." alt="" coords="1184,900,1387,927"/>
<area shape="rect" title=" " alt="" coords="2031,729,2111,755"/>
<area shape="rect" title=" " alt="" coords="364,550,407,577"/>
<area shape="rect" title=" " alt="" coords="1417,729,1477,755"/>
<area shape="rect" title=" " alt="" coords="2977,729,3047,755"/>
<area shape="rect" title=" " alt="" coords="576,393,643,420"/>
<area shape="rect" href="worldinit_8h.html" title="Declares the functions that initialize the parallel runtime." alt="" coords="1136,393,1331,420"/>
<area shape="rect" href="worldmpi_8h.html" title="Implements WorldMpiInterface." alt="" coords="1183,468,1382,495"/>
<area shape="rect" href="nodefaults_8h.html" title="Implements NO_DEFAULTS." alt="" coords="2158,818,2365,845"/>
<area shape="rect" href="worldhashmap_8h.html" title="Defines and implements a concurrent hashmap." alt="" coords="3078,550,3311,577"/>
<area shape="rect" href="worldprofile_8h.html" title=" " alt="" coords="667,393,882,420"/>
<area shape="rect" href="thread_8h.html" title="Implements Dqueue, Thread, ThreadBase and ThreadPool." alt="" coords="1527,550,1705,577"/>
<area shape="rect" href="uniqueid_8h.html" title=" " alt="" coords="2779,550,2973,577"/>
<area shape="rect" title=" " alt="" coords="1427,975,1563,1001"/>
<area shape="rect" title=" " alt="" coords="2489,729,2581,755"/>
<area shape="rect" href="safempi_8h.html" title="Serializes calls to MPI in case it does not support THREAD_MULTIPLE." alt="" coords="918,550,1109,577"/>
<area shape="rect" title=" " alt="" coords="3205,900,3270,927"/>
<area shape="rect" href="worldtypes_8h.html" title="Defines types used by the parallel runtime." alt="" coords="685,550,894,577"/>
<area shape="rect" href="worldmutex_8h.html" title="Implements Mutex, MutexFair, Spinlock, ConditionVariable." alt="" coords="1178,729,1393,755"/>
<area shape="rect" title=" " alt="" coords="1023,639,1089,666"/>
<area shape="rect" title=" " alt="" coords="633,639,708,666"/>
<area shape="rect" title=" " alt="" coords="1047,818,1131,845"/>
<area shape="rect" title=" " alt="" coords="1172,818,1233,845"/>
<area shape="rect" href="madness__exception_8h.html" title="Defines madness::MadnessException for exception handling." alt="" coords="2847,811,3031,852"/>
<area shape="rect" href="worldhash_8h.html" title="Defines hash functions for use in distributed containers." alt="" coords="3078,639,3282,666"/>
<area shape="rect" title=" " alt="" coords="2851,639,2901,666"/>
<area shape="rect" title=" " alt="" coords="3432,639,3499,666"/>
<area shape="rect" title=" " alt="" coords="3357,639,3408,666"/>
<area shape="rect" href="worldrmi_8h.html" title="Lowest level API for sending active messages â€” you should probably be looking at worldam...." alt="" coords="584,468,779,495"/>
<area shape="rect" title=" " alt="" coords="935,639,998,666"/>
<area shape="rect" title=" " alt="" coords="171,550,229,577"/>
<area shape="rect" href="thread__info_8h.html" title="Implements thread introspection." alt="" coords="1501,721,1667,763"/>
<area shape="rect" href="dqueue_8h.html" title="Implements DQueue." alt="" coords="1317,639,1502,666"/>
<area shape="rect" href="function__traits_8h.html" title=" " alt="" coords="2445,632,2624,673"/>
<area shape="rect" title=" " alt="" coords="2130,639,2206,666"/>
<area shape="rect" title=" " alt="" coords="2230,639,2319,666"/>
<area shape="rect" title=" " alt="" coords="1577,639,1655,666"/>
<area shape="rect" title=" " alt="" coords="1975,639,2105,666"/>
<area shape="rect" title=" " alt="" coords="1679,639,1830,666"/>
<area shape="rect" title=" " alt="" coords="1855,639,1951,666"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="macrotaskq_8h__dep__incl.png" border="0" usemap="#amacrotaskq_8hdep" alt=""/></div>
<map name="amacrotaskq_8hdep" id="amacrotaskq_8hdep">
<area shape="rect" title="Declares the macrotaskq and MacroTaskBase classes." alt="" coords="1105,5,1216,32"/>
<area shape="rect" href="ccpairfunction_8h.html" title=" " alt="" coords="289,80,416,107"/>
<area shape="rect" href="CCStructures_8h.html" title=" " alt="" coords="342,155,461,181"/>
<area shape="rect" href="exchangeoperator_8h.html" title=" " alt="" coords="1405,229,1556,256"/>
<area shape="rect" href="madness_2chem_2nemo_8cc.html" title=" " alt="" coords="1071,229,1148,256"/>
<area shape="rect" href="SCFOperators_8h.html" title="Operators for the molecular HF and DFT code." alt="" coords="2740,155,2863,181"/>
<area shape="rect" href="test__cloud_8cc.html" title=" " alt="" coords="1248,80,1355,107"/>
<area shape="rect" href="test__vectormacrotask_8cc.html" title=" " alt="" coords="1380,80,1562,107"/>
<area shape="rect" href="madchem_8h.html" title=" " alt="" coords="1102,393,1200,420"/>
<area shape="rect" href="ccpairfunction_8cc.html" title=" " alt="" coords="220,229,352,256"/>
<area shape="rect" href="CCPotentials_8h.html" title=" " alt="" coords="478,229,595,256"/>
<area shape="rect" href="test__ccpairfunction_8cc.html" title=" " alt="" coords="32,229,196,256"/>
<area shape="rect" href="simple__hf_8cpp.html" title=" " alt="" coords="1164,468,1276,495"/>
<area shape="rect" href="dirac-hatom_8cc.html" title="solve the hydrogen atom using the 4&#45;component Dirac equation" alt="" coords="1022,468,1141,495"/>
<area shape="rect" href="SCF_8cc.html" title="Molecular HF and DFT code." alt="" coords="2121,468,2184,495"/>
<area shape="rect" href="CC2_8h.html" title=" " alt="" coords="765,311,825,338"/>
<area shape="rect" href="CCStructures_8cc.html" title=" " alt="" coords="277,311,401,338"/>
<area shape="rect" href="CCPotentials_8cc.html" title=" " alt="" coords="426,311,548,338"/>
<area shape="rect" href="TDHF_8h.html" title=" " alt="" coords="728,229,796,256"/>
<area shape="rect" href="cis_8cpp.html" title=" " alt="" coords="623,311,690,338"/>
<area shape="rect" href="TDHF_8cc.html" title=" " alt="" coords="850,311,924,338"/>
<area shape="rect" href="exchangeoperator_8cc.html" title=" " alt="" coords="1570,311,1727,338"/>
<area shape="rect" href="SCFOperators_8cc.html" title="Operators for the molecular HF and DFT code." alt="" coords="1416,311,1545,338"/>
<area shape="rect" href="global__functions_8cc.html" title=" " alt="" coords="3615,393,3762,420"/>
<area shape="rect" href="ground__parameters_8h.html" title=" " alt="" coords="3664,229,3825,256"/>
<area shape="rect" href="calc__runner_8cc.html" title=" " alt="" coords="2822,393,2936,420"/>
<area shape="rect" href="apps_2nemo_2nemo_8cc.html" title=" " alt="" coords="3850,229,3927,256"/>
<area shape="rect" href="h2dft_8cc.html" title=" " alt="" coords="3952,229,4025,256"/>
<area shape="rect" href="hedft_8cc.html" title=" " alt="" coords="4049,229,4122,256"/>
<area shape="rect" href="hefxc_8cc.html" title=" " alt="" coords="4146,229,4222,256"/>
<area shape="rect" href="smooth_8h.html" title=" " alt="" coords="1172,229,1255,256"/>
<area shape="rect" href="benchmark__exchange__operator_8cc.html" title=" " alt="" coords="1802,304,1967,345"/>
<area shape="rect" href="oep_8h.html" title=" " alt="" coords="1279,229,1338,256"/>
<area shape="rect" href="SCF_8h.html" title=" " alt="" coords="2568,229,2625,256"/>
<area shape="rect" href="test__exchangeoperator_8cc.html" title=" " alt="" coords="3011,311,3200,338"/>
<area shape="rect" href="test__localizer_8cc.html" title=" " alt="" coords="3225,311,3352,338"/>
<area shape="rect" href="test__SCFOperators_8cc.html" title=" " alt="" coords="3376,311,3537,338"/>
<area shape="rect" href="test__dft_8cc.html" title=" " alt="" coords="2798,229,2888,256"/>
<area shape="rect" href="madness_2chem_2zcis_8cc.html" title=" " alt="" coords="2912,229,2977,256"/>
<area shape="rect" href="znemo_8h.html" title=" " alt="" coords="1908,229,1986,256"/>
<area shape="rect" href="response__parameters_8h.html" title=" " alt="" coords="3664,311,3838,338"/>
<area shape="rect" href="density__smoothing_8cc.html" title="solve the HF equations using numerical exponential MOs" alt="" coords="949,311,1113,338"/>
<area shape="rect" href="apps_2oep_2oep_8cc.html" title=" " alt="" coords="1188,311,1252,338"/>
<area shape="rect" href="madness_2chem_2oep_8cc.html" title=" " alt="" coords="1276,311,1340,338"/>
<area shape="rect" href="moldft_8cc.html" title="Molecular HF and DFT code." alt="" coords="2042,311,2124,338"/>
<area shape="rect" href="molresponse_8cc.html" title="Molecular Response DFT code." alt="" coords="2149,311,2273,338"/>
<area shape="rect" href="property_8cc.html" title=" " alt="" coords="2683,393,2776,420"/>
<area shape="rect" href="property_8h.html" title=" " alt="" coords="2798,311,2885,338"/>
<area shape="rect" href="generate__excited__data_8cpp.html" title=" " alt="" coords="2297,311,2496,338"/>
<area shape="rect" href="generate__frequency__data_8cpp.html" title=" " alt="" coords="2520,304,2672,345"/>
</map>
</div>
</div>
<p><a href="macrotaskq_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmadness_1_1MacroTask_1_1is__vector.html">madness::MacroTask&lt; taskT &gt;::is_vector&lt; Q &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmadness_1_1MacroTask_1_1is__vector_3_01std_1_1vector_3_01Q_01_4_01_4.html">madness::MacroTask&lt; taskT &gt;::is_vector&lt; std::vector&lt; Q &gt; &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1MacroTask.html">madness::MacroTask&lt; taskT &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1MacroTaskBase.html">madness::MacroTaskBase</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">base class  <a href="classmadness_1_1MacroTaskBase.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1MacroTaskIntermediate.html">madness::MacroTaskIntermediate&lt; macrotaskT &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1MacroTask_1_1MacroTaskInternal.html">madness::MacroTask&lt; taskT &gt;::MacroTaskInternal</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1MacroTaskOperationBase.html">madness::MacroTaskOperationBase</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmadness_1_1MacroTaskQ.html">madness::MacroTaskQ</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacemadness"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemadness.html">madness</a></td></tr>
<tr class="memdesc:namespacemadness"><td class="mdescLeft">&#160;</td><td class="mdescRight">File holds all helper structures necessary for the CC_Operator and <a class="el" href="classmadness_1_1CC2.html">CC2</a> class. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Declares the <code>macrotaskq</code> and MacroTaskBase classes. </p>
<p><a class="el" href="classA.html">A</a> MacroTaskq executes tasks on World objects, e.g. differentiation of a function or other arithmetic. Complex algorithms can be implemented.</p>
<p>The universe world is split into subworlds, each of them executing macrotasks of the task queue. This improves locality and speedups for large number of compute nodes, by reducing communications within worlds.</p>
<p>The user defines a macrotask (an example is found in test_vectormacrotask.cc), the tasks are lightweight and carry only bookkeeping information, actual input and output are stored in a cloud (see cloud.h)</p>
<p>The user-defined macrotask is derived from MacroTaskIntermediate and must implement the <a class="el" href="dirac-hatom_8cc.html#a59d9410697d22a0b1a8584466a00c57e">run()</a> method. <a class="el" href="classA.html">A</a> heterogeneous task queue is possible.</p>
<p>TODO: priority q TODO: task submission from inside task (serialize task instead of replicate) TODO: update documentation TODO: consider serializing task member variables </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 22 2023 08:46:48 for MADNESS by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
